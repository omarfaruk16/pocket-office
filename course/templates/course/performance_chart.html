<!DOCTYPE html>
<html>
<head>
  <title>Performance Chart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">
  <h4>Performance Chart - {{ part.course.name }} (Part {{ part.name }})</h4>

  <canvas id="ctChart" class="my-4"></canvas>
  <canvas id="examChart" class="my-4"></canvas>

  <script>
    const ctCtx = document.getElementById('ctChart').getContext('2d');
    new Chart(ctCtx, {
      type: 'bar',
      data: {
        labels: {{ ct_labels|safe }},
        datasets: [{
          label: 'Average CT Marks',
          data: {{ ct_data|safe }},
          backgroundColor: 'rgba(54, 162, 235, 0.6)'
        }]
      },
      options: {
        responsive: true
      }
    });

    const examCtx = document.getElementById('examChart').getContext('2d');
    new Chart(examCtx, {
      type: 'line',
      data: {
        labels: {{ exam_labels|safe }},
        datasets: [{
          label: 'Average Exam Marks',
          data: {{ exam_data|safe }},
          borderColor: 'rgba(255, 99, 132, 0.8)',
          fill: false
        }]
      },
      options: {
        responsive: true
      }
    });
  </script>
</body>
</html>
